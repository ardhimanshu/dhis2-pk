{
  "name": "Dhis2-pocket-knife",
  "tagline": "Command-line tools for interacting with DHIS2 API in bulk",
  "body": "# dhis2-pocket-knife\r\n\r\nCommand-line tools to interact with [DHIS2](https://dhis2.org) REST API in bulk.\r\n\r\n## Installation\r\n\r\n* *pip* (python package manager) must be installed (check [installation instructions](https://pip.pypa.io/en/stable/installing))\r\n* `pip install dhis2-pocket-knife`\r\n\r\n## Usage\r\n* In a terminal, run `dhis2-pk-<scriptname> --argument=<something>` and the arguments as required. It should be callable from anywhere, no need to change directories.\r\n* Get help on using arguments: `dhis2-pk-<scriptname> --help`\r\n* Be sure the specified user has the authorities to run these tasks for the specified DHIS2 server.\r\n* Logs to a log file called `dhis2-pk.log`\r\n\r\n---\r\n\r\n## Bulk sharing settings of objects\r\n\r\n**Script name:** `dhis2-pk-share-objects`\r\n\r\nApply sharing settings for DHIS2 metadata objects (dataElements, indicators, programs, ...) based on metadata object filtering. This assumes structured object properties (e.g. all object names / codes have the same prefix or suffix).\r\n\r\n| argument                       |description   |required   |\r\n|---|---|---|\r\n|`-s` / `--server`               |Server base, e.g. `play.dhis2.org/demo`   |**yes**  |\r\n|`-t` / `--object_type`          |Type of object, e.g. `dataElements`   |**yes**   |\r\n|`-f` / `--filter`               |Object filter(s) in single quotes (`'xx'`): `-f='name:like:vaccine'` **[Docs](https://dhis2.github.io/dhis2-docs/master/en/developer/html/dhis2_developer_manual_full.html#webapi_metadata_object_filter)**   |yes   |\r\n|`-w` / `--usergroup_readwrite`  |Exact name of usergroup which should get *Read-Write* access to objects   |no   |\r\n|`-r` / `--usergroup_readonly`   |Exact name of usergroup which should get *Read-Only* access to objects   |no   |\r\n|`-a` / `--publicaccess`         |Public access (with login), one of: `readwrite`, `readonly`, `none`   |**yes**   |\r\n|`-u` / `--username`             |DHIS2 username   |**yes**   |\r\n|`-p` / `--password`             |DHIS2 password   |**yes**   |\r\n|`-d` / `--debug`                |Log more info to log file   |no |\r\n\r\n\r\nExample (try it out against DHIS2 demo instance):\r\n\r\n```\r\ndhis2-pk-share-objects --server=play.dhis2.org/demo --object_type=dataElements --filter='name:^like:All&name:!like:cough' --usergroup_readwrite='Africare HQ' --usergroup_readonly='Bo District M&E officers' --publicaccess=none --username=admin --password=district\r\n```\r\n\r\n## Find users with a misconfigured Organisation Unit assignment\r\n\r\n**Script name:** `dhis2-pk-user-orgunits`\r\n\r\nWrites all users of an Organisation Unit who are configured like below to a **csv file**. Users who are assigned both an Orgunit **and** sub-Orgunit can be a source of access errors.\r\n![issue](https://i.imgur.com/MXiALrL.png)\r\n\r\n|argument              |description   |required|\r\n|---|---|---|\r\n|`-s` / `--server`     |Server base, e.g. `play.dhis2.org/demo`   |**yes**|\r\n|`-o` / `--orgunit`    |Orgunit UID to check its users     |**yes**|\r\n|`-u` / `--username`   |DHIS2 username   |**yes**|\r\n|`-p` / `--password`   |DHIS2 password   |**yes**|\r\n|`-d` / `--debug`      |Log more info to log file   |no|\r\n\r\nExample:\r\n\r\n```\r\ndhis2-pk-user-orgunits --server=play.dhis2.org/demo --orgunit=O6uvpzGd5pu --username=admin --password=district\r\n```\r\n\r\n## Bulk deletion of metadata objects\r\n\r\n**Script name:** `dhis2-pk-delete-objects`\r\n\r\nDelete metadata objects based on a list of UIDs in a text file. Note: [baosystems/dish2](https://github.com/baosystems/dish2#remove-metadata-objects) may be an alternative.\r\n\r\n|argument   |description   |required |\r\n|---|---|---|\r\n|`-s` / `--server`        |Server base, e.g. `play.dhis2.org/demo`   |**yes** |\r\n|`-t` / `--object_type`   |Type of metadata object, e.g. `dataElements`   |**yes** |\r\n|`-i` / `--uid_file`      |Text file with UIDs split by newline/break     |**yes** |\r\n|`-u` / `--username`      |DHIS2 username   |**yes** | \r\n|`-p` / `--password`      |DHIS2 password   |**yes** |\r\n|`-d` / `--debug`         |Log more info to log file   |no |\r\n\r\nExample:\r\n\r\n```\r\ndhis2-pk-delete-objects --server=play.dhis2.org/demo --uid_file='UIDs.txt' --username=admin --password=district\r\n```\r\n\r\n(put the following in a file called UIDs.txt to test it):\r\n\r\n```\r\nFHD3wiSM7Sn\r\niKGjnOOaPlE\r\nXTqOHygxDj5\r\n```\r\n\r\n---\r\n\r\n\r\n### TODO\r\n\r\n~~- debug flag as optional argument~~\r\n\r\nshare-objects.py:\r\n\r\n- arguments: userGroups: multiple names as arguments\r\n- arguments: userGroups: UID as argument\r\n- arguments: support for omitting field filters (= apply for all objects)\r\n\r\nuser-orgunits.py:\r\n\r\n- validating \"data analysis\" org unit tree as well (=dataViewOrganisationUnits)\r\n\r\n---\r\nPyPI link: https://pypi.python.org/pypi/dhis2-pocket-knife\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}